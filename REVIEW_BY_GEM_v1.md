# HanDoc 실행 계획서 AI 자율 수행 관점 리뷰 (by Gem)

**작성일**: 2026-02-20
**작성자**: 젬 (Gem)
**리뷰 대상**: `docs/MASTER-PLAN.md`, `docs/EXECUTION-PLAN.md`, `docs/REQUIREMENTS.md`

---

## 1. 총평 (Executive Summary)

**판정: 85% 자율 실행 가능 (우수함) — 단, 오케스트레이션 및 컨텍스트 관리 보완 필요**

현재 작성된 `EXECUTION-PLAN.md`는 일반적인 인간 개발자를 위한 기획서를 넘어, AI 에이전트가 이해하고 실행하기에 매우 적합하게 구조화되어 있습니다. 입력/출력 파일, API 시그니처, 의존성, 검증 스크립트(`pnpm turbo test`)가 명확히 정의되어 있어 단일 태스크의 성공 확률이 매우 높습니다.

하지만 **"4명의 에이전트가 온전히 자율적으로(Fully Autonomously) 전체 프로젝트를 완수할 수 있는가?"**라는 질문에는 몇 가지 뚜렷한 병목(Blocker)과 리스크가 존재합니다.

---

## 2. 강점 (AI 친화적 요소)

1. **명확한 검증 루프 (Verification Loop)**
   - `npx tsx scripts/cross-validate.ts` 등 스크립트를 통한 명확한 성공/실패 기준 제시. 에이전트가 코드를 작성한 후 스스로 검증하고 수정할 수 있는 환경이 갖춰져 있습니다.
2. **구체적인 I/O 및 인터페이스 명세**
   - 태스크마다 생성해야 할 파일명과 `export` 해야 할 함수/클래스의 시그니처가 정확히 명시되어 있어, 환각(Hallucination)에 의한 무작위 코드 생성을 방지합니다.
3. **상태 추적 시스템**
   - `coverage-tracker.json`을 통한 진행 상황 추적은 에이전트 간의 상태 공유에 훌륭한 접근법입니다.

---

## 3. 결핍 및 리스크 (보완 필요 사항)

AI 에이전트가 100% 자율적으로 구동하기 위해 부족한 부분들입니다.

### 3.1 멀티 에이전트 오케스트레이션 (동기화 문제)
- **이슈:** `EXECUTION-PLAN.md`는 에이전트 A, B, C, D의 역할을 나누고 "의존성(예: P1-MODEL-01 완료 후)"을 명시했지만, **에이전트들이 다른 에이전트의 작업 완료를 어떻게 인지할 것인지에 대한 기계적인 프로토콜이 부족합니다.**
- **AI 한계:** 에이전트 C는 스스로 주기적으로 `git pull`을 하고 터미널 로그를 파싱해서 앞선 태스크가 끝났는지 판단하기 어렵습니다.
- **해결책:** 
  - 에이전트들을 관리하는 '오케스트레이터 스크립트' 또는 GitHub Actions 기반의 이슈 트리거 체계가 필요합니다.
  - "앞선 PR이 Merge되면 다음 에이전트에게 웹훅으로 Prompt를 쏘아주는" 시스템적 개입이 명시되어야 합니다.

### 3.2 컨텍스트 윈도우 초과 리스크 (대형 파일)
- **이슈:** `P1-PARSE-01` 태스크의 레퍼런스인 `python-hwpx/hwpx/oxml/header.py`는 **1360줄**입니다.
- **AI 한계:** 에이전트가 1360줄의 Python 코드를 읽고, 모델 정의를 읽고, 완전한 TypeScript 코드를 한 번의 턴(Turn)에 버그 없이 생성하는 것은 컨텍스트 한계와 지시 망각(Instruction Forgetting)을 유발합니다.
- **해결책:** 
  - 큰 태스크를 더 잘게 쪼개야 합니다. (예: `[P1-PARSE-01-A] 글꼴 파싱`, `[P1-PARSE-01-B] 스타일 파싱` 등).
  - 에이전트가 파일을 읽을 때 `cat`이나 전체 읽기가 아닌, AST 파서나 부분 읽기를 활용하도록 지침을 줘야 합니다.

### 3.3 라이선스 세탁(Clean-room design)에 대한 AI의 모호성
- **이슈:** `python-hwpx`는 Non-Commercial이며, 이를 참조하여 MIT 코드를 작성해야 합니다. 문서는 "구조, 로직 흐름을 파악하되 코드는 새로 작성"이라고 지시합니다.
- **AI 한계:** LLM은 "참조하되 베끼지 마라"는 지시를 완벽히 수행하기 어렵습니다. 변수명만 바꾸고 구조를 똑같이 복사하여 라이선스 위반 소지를 만들 수 있습니다.
- **해결책:** 
  - 에이전트 프롬프트에 구체적인 **변환 가이드라인**이 필요합니다. (예: "Python의 snake_case를 camelCase로 바꾸는 것에 그치지 말고, TypeScript의 인터페이스와 함수형 프로그래밍 패턴(map, filter)을 적극 사용하여 완전히 다른 형태의 코드로 재작성하라.")

### 3.4 환경 세팅 및 의존성 주입의 사각지대
- **이슈:** 테스트 픽스처 생성을 위해 `pip install python-hwpx`가 필요합니다.
- **AI 한계:** 시스템 환경에 Python 3.10+, pip가 제대로 설정되어 있지 않으면 첫 단계인 `[P0-SETUP-02]`에서 막혀 이후의 모든 병렬 태스크가 중단될 수 있습니다.
- **해결책:** 
  - 픽스처 생성용 Python 스크립트 실행 환경을 `Dockerfile`이나 `devcontainer.json`으로 묶어, 에이전트가 터미널 환경 오류로 헤매는 것을 방지해야 합니다.

---

## 4. 최종 제언 (Action Items for 100% Autonomy)

이 기획서를 기반으로 OpenClaw 에이전트들을 즉시 투입하려면 다음 세 가지 장치를 추가하십시오.

1. **태스크 마이크로 매니저 (Task Splitter)**
   - `header.py` (1360줄) 같은 대형 변환 작업은 "에이전트가 1개의 클래스/함수 단위로 쪼개서 작업하고 커밋하도록" 지침에 제한을 거십시오.
2. **에이전트 간 핸드오버 프로토콜 (Handover Protocol)**
   - 에이전트가 자신의 태스크를 완료하면, 단순히 문서를 업데이트하는 것을 넘어 **"다음 에이전트(예: Agent C)를 호출하여 `[P1-PARSE-01]` 시작 조건을 충족했음을 알리는 명령어(sessions_send 등)"**를 명시하십시오.
3. **클린룸 검증 단계 (Clean-room Check)**
   - 코드 리뷰 에이전트(예: 아크 또는 듄)를 배치하여, 작성된 TS 코드가 원본 Python 코드와 AST 구조상 너무 유사할 경우 반려(Reject)하는 PR 리뷰 파이프라인을 추가하십시오.

**결론:** 문서는 훌륭합니다. 에이전트들이 "서로 어떻게 소통하고 배턴을 터치할 것인가"에 대한 워크플로우 통신 프로토콜만 한 줄씩 추가해주면 진정한 자율 개발이 가능합니다.
